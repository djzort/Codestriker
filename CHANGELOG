*** When upgrading, don't forget to: "cd bin ; ./checksetup.pl" ***

Version 1.6.2

* Fixed warnings in checksetup.pl for MySQL databases, where "commits"
  are ignored.

* If there are form elements not properly filled in the "create topic"
  screen, redirect to that page with the error messages displayed,
  with the previous form elements remembered.  The only exception is
  the filename in the file upload input box, since browsers usually
  don't accept pre-defined for security reasons.

* Fixed minor warnings for topic list screen when the cc field is empty.

Version 1.6.1

* Modified to use Net::SMTP to allow Codestriker to run under Windows,
  and to not hardwire the mail sending program to "sendmail".

* Allow for the list/search topics and topic deletion to possibly be
  disabled.  This is required for a codestriker server which is
  handling "anonymous" reviews on a public site.  This option is set
  from the codestriker.conf file.

* Added a "repository" attribute associated with a topic.  This is the
  source code repository associated with the review, and by default is
  set to the value of $default_repository in codestriker.conf.  This
  can be an absolute path, which indicates the CVSROOT of a local cvs
  repository, or a cvsweb or viewcvs URL, followed by a space,
  followed by the CVSROOT.  Other repository types, such as pserver
  CVS, BitKeeper, or Subzero can be added in the future.

  For example, when reviewing a codestriker change, the repository
  would be set as:

  http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi /cvsroot

  For a local repository, it could be just:

  /usr/local/cvsroot

* Allow for the view file screen to be disabled (allows viewing of an
  entire file before and/or after a proposed change).  On some
  deployments (eg, the sourceforge servers), the firewall has been
  setup so that CGI scripts can't perform any remote HTTP connections.
  This option is set from the codestriker.conf file.

* Added a configuration flag to indicate that email addresses should
  be displayed in an "anti spam" form.  Eg:

  sits@users.sf.net -> sits@use...

  This is required for a public deployment of Codestriker.

* Created header and trailer templates which appear on every screen,
  to assist in customising a site's look.

* The submit comment and submit topic screens where changed to use
  templates.

* Added a lot of on-line help for the create topic screen, to explain
  what all the input form elements mean.  Also added help for the
  update topic status button in the view topic screen.

* Changed the look-n-feel slightly for the view topic and edit topic
  screens.

Version 1.6.0

* Modified to use the "Template Toolkit" so that the HTML pages can be
  easily customised without modifying any perl code.  The templates
  live in template/en/default, where they can be modified in-place.

* Modified the Apache configuration instructions to use <Directory>
  instead of <Location>.  Also modified so that the copying of the CSS
  file into the site's main HTML area is no longer necessary, by using
  an additional <Directory> directive.

Version 1.5.7

* Set the attachment field in the HTTP header when downloading the
  topic text, to make IE happier, as the filename topicXXXX.txt.

* Handle CVS diffs which have whitespace at the start of the review.

Version 1.5.6

* Codestriker has been integrated with LXR, so that when viewing a
  code review, those identifiers known to LXR will be automatically
  hyperlinked.  This is an enormous aid to the code reviewing process,
  as you can quickly determine where a variable/function/method/class
  is defined and where it is used quickly, while studying the proposed
  changes.

  See the README file for setting up LXR integration.

  The LXR home page is located at http://lxr.sourceforge.net.  The
  integration has been tested with version 0.9.2.

  Note the codestriker.css file has been modified slightly to support
  LXR.  Make sure you update this file if using LXR.

Version 1.5.5 (if upgrading, make sure you run checksetup.pl, see below):

* Modified database schema for MySQL so that review text is not
  limited to 64KB, but up to 24MB, by changing certain fields from
  type "text" to "mediumtext".  PostgreSQL and other databases are not
  affected.  Simply running checksetup.pl in bin will automatically do the
  migration for you.  I highly recommend backing up your database with
  the following command, in case there are problems, which should be
  something like:

  mysqldump -u codestriker -p --opt codestrikerdb > /tmp/cs.backup.sql

* Don't let IE cache the topic list and edit topic screens.

* Implemented a "delete topic" action.

* Put a "List open topics" link at the top of the view topic screen to
  easily go to the current list of open topics.

* Don't set the Cc and Reviewer field from the cookie if it hasn't
  been set in the create topic form.

* Handle patch files where the time stamps are in a different format
  to the typical CVS diff format.

* After a comment is added, make sure the focus goes back to the
  window that initiated the add comment action.  This wasn't a
  problenm for Mozilla, but for other browsers.

Version 1.5.4:

* When the topic state is updated, add a confirmation message to the
  top of the view topic screen.

* If the uploaded file doesn't exist, output an appropriate error
  message.

* Fixed the table of contents display if a binary file is present.
  Text files after a binary file weren't hyperlinked.  This was a
  database load problem, not a rendering problem.

Version 1.5.3:

* Further integration with Bugzilla.  When a topic is created, or the
  state is changed, a suitable comment is added to all bugs associated
  with the topic.  This allows important information to be available
  within the context of displaying a bug.  Support for other
  bug-tracking systems should be easy to implement.

* Make sure topic titles are HTML escaped in the topic list view.

Version 1.5.2:

* Fixed minor rendering bug in view single file mode.

* Added Message-Id, In-Reply-To and References headers, so Codestriker
  emails relating to the same topic will be displayed in the same
  thread, for those email clients which supported threaded views.

Version 1.5.1:

* Fixed bug where viewing a file in a popup didn't work for those diffs
  which contained empty lines.

Version 1.5.0:

* Just some documentation changes.  No code changes from 1.5.0b3.

Version 1.5.0b3:

* Comments are now entered via a popup window.  This means the
  relatively heavy operation of loading the view topic screen can be
  done just once initially, and many comments can be submitted, rather
  than reloading the view screen after each comment submission.

Version 1.5.0b2:

* Fixed minor rendering bug in the coloured view mode.

Version 1.5.0b1:

* Broke up the system into a number of Perl modules to make future
  work far easier to accomplish.

* Now uses a database for storing Codestriker's data.  This simplifies
  serching and updating of the data, compared to the previous
  filesystem persistance.

* There is now a topic search screen, which displays its results in a
  simple topic list screen.  From here, individual topics can be
  selected for display.

* Topic now has a simple notion of state.  When a topic is created, it
  is in state "Open".  When a review has been done and the code has
  been committed, the author changes the state to "Committed".  If the
  review is not to be committed, but needs to be resubmitted, the
  author moves the topic to state "Closed".  These states are useful
  when displaying lists of topics in the system, to see what is
  currently pending.

* A migration tool is available to automatically transfer <= 1.4.X
  codestriker data into the database.

Version 1.4.5:

* Fixed minor rendering bug with line numbers.

* Fixed minor bug where adding a CC to a comment with more than one
  person on that line failed.

* Support for the handling of binary files in diffs.

* Fix bug in popup parallel coloured-diff mode where the anchor names
  weren't being generated properly, resulting in some browsers not
  centering their view in the correct place.

* Fixed bug in pop parallel coloured-diff mode where changes right at
  the end of the file weren't rendered.

* Support for parsing files generated with cvs diff -b.

Version 1.4.4:

* Made the CVS file data retrieve command expanded within an eval for
  flexibility.  Included example using the curl command in
  codestriker.conf.

* Can now view coloured diff mode either in monospace font (requires
  more real-estate) or in variable-width font (harder to read code).
  The choice can be made dynamically. [Note the monospaced diff mode
  can be set for $default_topic_create_mode in codestriker.conf]

* Added a <BASE> tag which reduces the HTML size.  Also used cookies
  more intelligently so that the dreaded edit topic and other URLs
  were cut down to size, which also helped reducing the output.

* Took the gzip compression code from CVSweb and plonked it in.  Works
  nicely with Mozilla/Netscape/Konqueror.  If the Compress::Zlib
  library is installed, that is used for compression, otherwise the
  "gzip" executable is used (although this isn't an option if you are
  running this script within mod_perl).  [Note there are two new
  options in codestriker.conf - $use_compression and $gzip]

* Codestriker now works under mod_perl successfully.  Updated
  installation instructions for use under mod_perl.

Version 1.4.3:

* New popup viewing mode "parallel".  In addition to being able to
  bring up a new window containing the contents of a file in its
  original or new form, you can also set the popup display to be a
  coloured diff, containing the contents of the original and the new
  file side by side (similar to the main screen in coloured diff
  mode).  While this mode is more bandwidth intensive, this can also
  aid considerably in the reviewing process.

* Tab width can now be changed dynamically between 4 and 8 to handle
  varying review inputs.  Tab expanision is also handled more
  consistently.

* Support for "diff -uNp", "diff -uN --show-function-line=regexp",
  "cvs diff -uNp" and "cvs diff -uN  --show-function-line=regexp".

* URLs entered in the description or in a comment will be rendered as
  a link to that URL.

* Allow the bug field to accept multiple bug IDs.

* Introduced codestriker.conf, which isolates a site's configuration
  into a single file.  This simplifies upgrading.

Version 1.4.2:

* Can now handle diffs which end in: "\ No newline at end of file".

* Changed the HTML generation for popup windows displaying old/new
  versions of a file to use <PRE> rather than a table, which cuts down
  the loading time considerably.  Note, the codestriker.css file had
  to be changed.

Version 1.4.1:

* Popup windows were not resizable in IE due to a bug in the
  javascript code.  Has now been fixed.

Version 1.4:

* Clicking on an original diff block line heading will open a popup
  window displaying colour-coded contents of the original file.
  Clicking on a new diff block line heading will open a popup window
  displaying colour-coded contents of the new file.  In each case, it
  is possible to click on topic lines to enter comments, which are
  done in the main browser window.

* The file names for each file block is now optionally hyperlinked to
  a CVS viewing system, such as cvs web.

* An optional bug number field is now a part of the topic creation
  form.  This is displayed in the view topic screen, with a link to
  the appropriate bug tracking (eg bugzilla) page.  Text within the
  description of the form "[Bb][Uu][Gg]\s*\d+" is also rendered to the
  appropriate bug tracking page.

* Comment emails sent now include the filename and line number
  (where possible) that the comment was made against.

* Creation date for a topic is shown in the view topic screen.

* Can download topic text as "text/plain" from view topic screen.

Version 1.3: 

* Included table of contents for coloured diff mode, which allows for
  fast nagivation, and indicates what files are present in the review.

* Added better handling of patch files.

Version 1.2:

* Converted to use CSS to reduce the resulting HTML size and to enable
  easier customisation.

* Coloured diff mode handles ordinary patches, CVS diffs, and ordinary
  text.

* Put in more newlines to make the resulting HTML more readable.

* Removed a stray <PRE> tag in coloured diff mode.


